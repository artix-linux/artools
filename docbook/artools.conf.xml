<?xml version='1.0'?> <!--*-nxml-*-->
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">

<!--
This file is part of artools.

Copyright 2015 Manjaro Developers
Copyright 2017 Artoo

artools is free software; you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation; either version 2.1 of the License, or
(at your option) any later version.

artools is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with systemd; If not, see <http://www.gnu.org/licenses/>.
-->

<refentry id="profile.conf" xmlns:xi="http://www.w3.org/2001/XInclude">

    <refentryinfo>
        <title>profile.conf-+</title>
        <productname>artools</productname>

        <authorgroup>
        <author>
            <contrib></contrib>
            <firstname></firstname>
            <surname></surname>
            <email></email>
        </author>
        </authorgroup>
    </refentryinfo>

    <refmeta>
        <refentrytitle>artools.conf</refentrytitle>
        <manvolnum>5</manvolnum>
    </refmeta>

    <refnamediv>
        <refname>artools.conf</refname>
        <refpurpose>general configuration file for artools</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
        <para><filename>artools.conf</filename></para>
    </refsynopsisdiv>

    <refsect1>
        <title>Description</title>

        <para>artools.conf is a general configuration file for all artools binaries. </para>

        <para>By default all the options in the file are commented, with a value equal to the
        default value. To change it just uncomment and put the desired value.</para>

    </refsect1>

    <refsect1>
        <title>General options for all tools</title>

        <para>The following options are understood and used for various tools:</para>

        <variablelist>

            <varlistentry>
                <term><varname>target_arch=</varname></term>

                <listitem><para>Takes <option>i686</option> or <option>x86_64</option>.
                By default it will try to autodetect the current architecture.
                It defines in witch architecture the packages will be built with
                buildpkg.
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>workspace_dir=</varname></term>

                <listitem><para>Workspace dir where packages, iso, repos or build tree. Default is "/home/$OWNER/artools-workspace".
                </para></listitem>
            </varlistentry>


            <varlistentry>
                <term><varname>chroots_dir=</varname></term>

                <listitem><para>Build dir where buildpkg or buildiso chroot
                environment will be created. Default is "/var/lib/artools".
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>build_mirror=</varname></term>

                <listitem><para>Default mirror to be used when building
                packages or iso.
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>account=</varname></term>

                <listitem><para>Default user to be used for upload.
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>project=</varname></term>

                <listitem><para>Default SF project name to be used for upload.
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>host_mirrors=</varname></term>

                <listitem><para>Array of host mirrors.
                </para></listitem>
            </varlistentry>

        </variablelist>
    </refsect1>

    <refsect1>
        <title>Options for buildtree</title>

        <para>The following options are understood:</para>

        <variablelist>
            <varlistentry>
                <term><varname>repo_tree_artix=</varname></term>

                <listitem><para>Artix package tree. Default is
                "('system' 'world' 'galaxy')".
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>host_tree_artix=</varname></term>

                <listitem><para>Host tree. Default is "https://github.com/artix-linux".
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>repo_tree_arch=</varname></term>

                <listitem><para>Archlinux package tree. Default is
                "('packages' 'community')".
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>host_tree_arch=</varname></term>

                <listitem><para>Host tree for archlinux. Default is
                "https://projects.archlinux.org/git/svntogit".
                </para></listitem>
            </varlistentry>
        </variablelist>
    </refsect1>

    <refsect1>
        <title>Options for buildpkg</title>

        <para>The following options are understood:</para>

        <variablelist>
            <varlistentry>
                <term><varname>build_list_pkg=</varname></term>

                <listitem><para>Default list for buildpkg without the .list
                extension.
                </para></listitem>
            </varlistentry>

        </variablelist>
    </refsect1>

    <refsect1>
        <title>Options for buildiso</title>

        <para>The following options are understood:</para>

        <variablelist>
        <varlistentry>
            <term><varname>build_list_iso=</varname></term>

            <listitem><para>Default list for buildiso without the .list
            extension.
            </para></listitem>
        </varlistentry>

        <varlistentry>
            <term><varname>dist_release=</varname></term>

            <listitem><para>Release version of the distribution.
            </para></listitem>
        </varlistentry>

        <varlistentry>
            <!-- TODO: We should tell where exactly this is used -->
            <term><varname>dist_branding=</varname></term>

            <listitem><para>Branding of the distribution.
            </para></listitem>
        </varlistentry>

        <varlistentry>
            <term><varname>gpgkey=</varname></term>

            <listitem><para>If the gpgkey is supplied, the sfs images on iso will be signed.
                    If the key is left empty or commented, signing will be skipped.
                    </para></listitem>
        </varlistentry>

        <varlistentry>
            <term><varname>initsys=</varname></term>

            <listitem><para>Takes <option>openrc</option> (the default)
            or <option>notyetimplemented</option>. Selecting and option will change
            how the hostname, the displaymanager and services will be configured.
            </para></listitem>
        </varlistentry>

        <varlistentry>
            <term><varname>kernel=</varname></term>

            <listitem><para>Takes a string corresponding to an
            artix kernel package.
            </para></listitem>
        </varlistentry>

        </variablelist>
    </refsect1>

        <refsect1>
        <title>Options for deployiso</title>

        <para>The following options are understood:</para>

        <variablelist>

             <varlistentry>
                <term><varname>tracker_url=</varname></term>

                <listitem><para>Default tracker announce for the torrent.
                    The tracker url can also contain comma separated urls.
                </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>piece_size=</varname></term>

                <listitem><para>Default priece size for the torrent in 2^n.
                        </para></listitem>
            </varlistentry>

            <varlistentry>
                <term><varname>uplimit=</varname></term>

                <listitem><para>Default upload bandwidth limit in kb/s.
                </para></listitem>
            </varlistentry>

        </variablelist>
    </refsect1>

    <refsect1>
        <title>Options for deploypkg</title>

        <para>The following options are understood:</para>

        <variablelist>
            <varlistentry>
                <term><varname>repos_local=</varname></term>

                <listitem><para>The local repository root. Default is "${workspace_dir}/repos".
                </para></listitem>
            </varlistentry>

        </variablelist>
    </refsect1>

    <refsect1>
        <title>See Also</title>
        <para>
            <citerefentry project='artools'><refentrytitle>profiles.conf</refentrytitle><manvolnum>5</manvolnum></citerefentry>,
            <citerefentry project='artools'><refentrytitle>buildiso</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
            <citerefentry project='artools'><refentrytitle>deployiso</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
            <citerefentry project='artools'><refentrytitle>buildtree</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
            <citerefentry project='artools'><refentrytitle>deploypkg</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
            <citerefentry project='artools'><refentrytitle>buildpkg</refentrytitle><manvolnum>1</manvolnum></citerefentry>
        </para>
    </refsect1>

</refentry>


